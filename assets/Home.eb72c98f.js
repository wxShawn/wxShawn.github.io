import{h as m,m as f}from"./utils.fccc7fa6.js";import{a as v,_ as r}from"./index.29aa3aab.js";import{r as k,a as x,o as y,c as i,b as n,F as d,d as u,e as a,f as w,g as b}from"./index.769ad58f.js";const F={class:"py-5 grid grid-cols-1 gap-10"},H=n("div",{class:"h-96 bg-home-banner bg-cover bg-center bg-fixed"},[n("div",{class:"h-full bg-purple-800 bg-opacity-30 flex justify-center items-center"},[n("div",{class:"text-white text-5xl"},"Hello World!")])],-1),N={class:"lg:container flex flex-col gap-5"},S=n("div",{class:"p-4 bg-white text-purple-500 rounded-lg shadow-md select-none"},"\u6700\u65B0\u6587\u7AE0",-1),V={class:"grid gap-5 grid-cols-1"},$={class:"lg:container flex flex-col gap-5"},j=n("div",{class:"p-4 bg-white text-purple-500 rounded-lg shadow-md select-none"},"\u6700\u65B0\u9879\u76EE",-1),E={class:"grid gap-5 sm:grid-cols-1 md:grid-cols-2 2xl:grid-cols-3"},G={__name:"Home",setup(M){const g=k([]),_=x(!0),L=async(o=6)=>{const c=await v.getPosts();if(c.code===0){const t=[],{rows:s}=c.result;for(let e=0,l=s.length;e<l;e++)if(l-e<=o){const D=s[e].id,C=s[e].title,T=new Date(s[e].createdAt).toLocaleDateString(),A=m(f(s[e].content));t.push({id:D,title:C,date:T,content:A})}return setTimeout(()=>{_.value=!1},500),t}};y(async()=>{const o=await L(3);g.push.apply(g,o)});const B=o=>{console.log("click post ",o)},p=k([]),h=x(!0),P=async(o=6)=>{const c=await v.getProjects();if(c.code===0){const t=[],{rows:s}=c.result;for(let e=0,l=s.length;e<l;e++)l-e<=o&&t.push({id:s[e].id,name:s[e].name,date:new Date(s[e].createdAt).toLocaleDateString(),content:m(f(s[e].content)),url:s[e].url,cover:s[e].cover});return setTimeout(()=>{h.value=!1},500),t}};return y(async()=>{const o=await P();p.push.apply(p,o)}),(o,c)=>(a(),i("div",F,[H,n("div",N,[S,n("div",V,[_.value?(a(),i(d,{key:0},u(3,t=>w(r,{skeleton:!0})),64)):(a(!0),i(d,{key:1},u(g,t=>(a(),b(r,{key:t,title:t.title,date:t.date,content:t.content,onClick:s=>B(t.id)},null,8,["title","date","content","onClick"]))),128))])]),n("div",$,[j,n("div",E,[h.value?(a(),i(d,{key:0},u(6,t=>w(r,{skeleton:!0})),64)):(a(!0),i(d,{key:1},u(p,t=>(a(),b(r,{key:t,cover:t.cover,title:t.name,date:t.date,content:t.content},null,8,["cover","title","date","content"]))),128))])])]))}};export{G as default};
