import{m as _}from"./marked.esm.90bd3cda.js";import{_ as i}from"./Card.3e6f8ee8.js";import{a as f}from"./index.d2037a4d.js";import{h as v}from"./utils.6e7055ca.js";import{r as k,a as w,o as x,c as r,b as n,F as d,d as u,e as a,f as y,g as b,h as H}from"./index.9ee49d03.js";const N={class:"py-5 grid grid-cols-1 gap-10"},S=n("div",{class:"h-96 bg-home-banner bg-cover bg-center bg-fixed"},[n("div",{class:"h-full bg-purple-800 bg-opacity-30 flex justify-center items-center"},[n("div",{class:"text-white text-5xl"},"Hello World!")])],-1),V={class:"lg:container flex flex-col gap-5"},j=n("div",{class:"p-4 bg-white text-purple-500 rounded-lg shadow-md select-none"},"\u6700\u65B0\u6587\u7AE0",-1),E={class:"grid gap-5 grid-cols-1"},M={class:"lg:container flex flex-col gap-5"},T=n("div",{class:"p-4 bg-white text-purple-500 rounded-lg shadow-md select-none"},"\u6700\u65B0\u9879\u76EE",-1),W={class:"grid gap-5 sm:grid-cols-1 md:grid-cols-2 2xl:grid-cols-3"},O={__name:"Home",setup(q){const g=k([]),m=w(!0),L=async(o=6)=>{const c=await f.getPosts();if(c.code===0){const t=[],{rows:s}=c.result;for(let e=0,l=s.length;e<l;e++)if(l-e<=o){const D=s[e].id,$=s[e].title,A=new Date(s[e].createdAt).toLocaleDateString(),F=v(_(s[e].content));t.push({id:D,title:$,date:A,content:F})}return m.value=!1,t}};x(async()=>{const o=await L(3);g.push.apply(g,o)});const C=o=>{H.push({name:"post",params:{id:o}})},p=k([]),h=w(!0),P=async(o=6)=>{const c=await f.getProjects();if(c.code===0){const t=[],{rows:s}=c.result;for(let e=0,l=s.length;e<l;e++)l-e<=o&&t.push({id:s[e].id,name:s[e].name,date:new Date(s[e].createdAt).toLocaleDateString(),content:v(_(s[e].content)),url:s[e].url,cover:s[e].cover});return h.value=!1,t}};x(async()=>{const o=await P();p.push.apply(p,o)});const B=o=>{window.open(o,"_blank")};return(o,c)=>(a(),r("div",N,[S,n("div",V,[j,n("div",E,[m.value?(a(),r(d,{key:0},u(3,t=>y(i,{skeleton:!0})),64)):(a(!0),r(d,{key:1},u(g,t=>(a(),b(i,{key:t,title:t.title,date:t.date,content:t.content,onClick:s=>C(t.id)},null,8,["title","date","content","onClick"]))),128))])]),n("div",M,[T,n("div",W,[h.value?(a(),r(d,{key:0},u(6,t=>y(i,{skeleton:!0})),64)):(a(!0),r(d,{key:1},u(p,t=>(a(),b(i,{key:t,cover:t.cover,title:t.name,date:t.date,content:t.content,onClick:s=>B(t.url)},null,8,["cover","title","date","content","onClick"]))),128))])])]))}};export{O as default};
